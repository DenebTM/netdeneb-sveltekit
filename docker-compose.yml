version: '3.9'

services:
  netdeneb-node:
    image: netdeneb:latest
    volumes:
      - ./files:/files:ro,shared
      - ./art:/art:ro,shared
      - ./thumbs:/thumbs
    pid: 'host'

  netdeneb-proxy:
    image: nginx:latest
    ports:
      - 3000:80
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./files:/files:ro,shared
      - ./art:/art:ro,shared
      - ./img:/img:ro
      - ./thumbs:/thumbs:ro
      - ./other:/other:ro
